# üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ Peg Solitaire Solver

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 1. Numba JIT –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ
- **–§–∞–π–ª—ã**: `heuristics/fast_pagoda.py`
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ `heuristics.pagoda.pagoda_value()`

### 2. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ü–µ–Ω–∫–∏
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ
- **–§–∞–π–ª—ã**: `heuristics/evaluation.py`
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `BeamSolver` –∏ `ParallelBeamSolver`

### 3. Rust –º–æ–¥—É–ª—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–æ—Ç–æ—Ç–∏–ø –≥–æ—Ç–æ–≤, –æ–ø—Ü–∏–æ–Ω–∞–ª–µ–Ω
- **–§–∞–π–ª—ã**: `rust_peg_solver/`, `core/rust_fast.py`
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –Ω–∞ Cython/Python

## üìà –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –¢–µ—Å—Ç 1: pagoda_value

| –†–µ–∞–ª–∏–∑–∞—Ü–∏—è | –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | –£—Å–∫–æ—Ä–µ–Ω–∏–µ |
|------------|-------------------|-----------|
| Python (original) | 142,672 ops/s | 1.0x (–±–∞–∑–∞) |
| Numba JIT | 254,974 ops/s | **1.79x** ‚ö° |
| Auto (fallback) | 214,989 ops/s | **1.51x** |

**–í—ã–≤–æ–¥**: Numba JIT –¥–∞—ë—Ç **1.79x —É—Å–∫–æ—Ä–µ–Ω–∏–µ** –¥–ª—è pagoda —Ñ—É–Ω–∫—Ü–∏–∏.

### –¢–µ—Å—Ç 2: evaluate_position

| –†–µ–∞–ª–∏–∑–∞—Ü–∏—è | –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | –£—Å–∫–æ—Ä–µ–Ω–∏–µ |
|------------|-------------------|-----------|
| Python (original) | 57,937 ops/s | 1.0x (–±–∞–∑–∞) |
| Numba JIT | 269,344 ops/s | **4.65x** ‚ö°‚ö° |
| Auto (fallback) | 210,707 ops/s | **3.64x** |

**–í—ã–≤–æ–¥**: Numba JIT –¥–∞—ë—Ç **4.65x —É—Å–∫–æ—Ä–µ–Ω–∏–µ** –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π –æ—Ü–µ–Ω–∫–∏ –ø–æ–∑–∏—Ü–∏–π!

## üéØ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Ä–µ—à–∞—Ç–µ–ª–∏

### –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ —Ä–µ—à–∞—Ç–µ–ª–∏

1. **BeamSolver** (`solvers/beam.py`)
   - ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `heuristics.evaluation.evaluate_position()`
   - ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é

2. **ParallelBeamSolver** (`solvers/parallel_beam.py`)
   - ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω `_evaluate_board()` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
   - ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω `_evaluate()` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

3. **–í—Å–µ —Ä–µ—à–∞—Ç–µ–ª–∏** (—á–µ—Ä–µ–∑ `heuristics.pagoda.pagoda_value()`)
   - ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç Numba –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é
   - ‚úÖ –ü—Ä–æ–∑—Ä–∞—á–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è, –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è API

## üìã –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π

| –†–µ–∞–ª–∏–∑–∞—Ü–∏—è | –°—Ç–∞—Ç—É—Å | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ |
|------------|--------|---------------|
| **Cython** | ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω | BitBoard –æ–ø–µ—Ä–∞—Ü–∏–∏ (26x —É—Å–∫–æ—Ä–µ–Ω–∏–µ) |
| **Numba JIT** | ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω | –≠–≤—Ä–∏—Å—Ç–∏–∫–∏ –∏ –æ—Ü–µ–Ω–∫–∏ (1.79x-4.65x) |
| **Rust** | ‚ùå –ù–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω | –û–ø—Ü–∏–æ–Ω–∞–ª–µ–Ω (2-10x –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ) |

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è —Ç–µ–∫—É—â–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Numba** - —É–∂–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –¥–ª—è `pagoda_value()` –∏ `evaluate_position()`
   - –î–∞—ë—Ç 1.79x-4.65x —É—Å–∫–æ—Ä–µ–Ω–∏–µ –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π

2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Cython** - —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
   - BitBoard –æ–ø–µ—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ `core.fast`
   - 26x —É—Å–∫–æ—Ä–µ–Ω–∏–µ –¥–ª—è –±–∏—Ç–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

3. **Rust –æ–ø—Ü–∏–æ–Ω–∞–ª–µ–Ω** - –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
   - –¢—Ä–µ–±—É–µ—Ç –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ Rust –º–æ–¥—É–ª—è
   - –î–∞—Å—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ 2-10x —É—Å–∫–æ—Ä–µ–Ω–∏–µ

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

- –í—Å–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏–º–µ—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback
- –ö–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –µ—Å–ª–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É fallback

## üöÄ –ò—Ç–æ–≥–æ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –û–±—â–µ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞:

- **–≠–≤—Ä–∏—Å—Ç–∏–∫–∏**: 1.79x-4.65x (Numba JIT)
- **BitBoard –æ–ø–µ—Ä–∞—Ü–∏–∏**: 26x (Cython)
- **–û–±—â–µ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ —Ä–µ—à–∞—Ç–µ–ª–µ–π**: ~2-5x (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º–∞)

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã:

```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
python -m tests.test_performance

# –¢–µ—Å—Ç —Ä–µ—à–∞—Ç–µ–ª—è —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º–∏
python -c "from solvers import BeamSolver; from core.bitboard import BitBoard; 
           board = BitBoard.english_start(); 
           solver = BeamSolver(beam_width=100); 
           solver.solve(board)"
```

## ‚úÖ –í—Å–µ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã

- [x] –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Numba –∏ Cython
- [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Numba –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π –≤ —Ä–µ—à–∞—Ç–µ–ª–∏
- [x] –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- [x] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ—à–∞—Ç–µ–ª–µ–π –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- [x] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

**–°—Ç–∞—Ç—É—Å**: –í—Å–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã! üéâ
