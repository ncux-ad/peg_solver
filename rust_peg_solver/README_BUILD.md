# üîß –°–±–æ—Ä–∫–∞ Rust –º–æ–¥—É–ª—è (—Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º)

## –ü—Ä–æ–±–ª–µ–º–∞: Maturin –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ pip

–ï—Å–ª–∏ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ `maturin` —á–µ—Ä–µ–∑ pip –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞ timeout –∏–ª–∏ network issues:

### –†–µ—à–µ–Ω–∏–µ 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å venv (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
source venv/bin/activate  # Linux/Mac
# –∏–ª–∏
venv\Scripts\activate     # Windows

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ maturin —Å —É–≤–µ–ª–∏—á–µ–Ω–Ω—ã–º —Ç–∞–π–º–∞—É—Ç–æ–º
pip install --timeout=300 --retries=5 maturin
```

### –†–µ—à–µ–Ω–∏–µ 2: –°–±–æ—Ä–∫–∞ —á–µ—Ä–µ–∑ cargo –Ω–∞–ø—Ä—è–º—É—é (–±–µ–∑ maturin)

–ï—Å–ª–∏ maturin –≤—Å—ë —Ä–∞–≤–Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –º–æ–∂–Ω–æ —Å–æ–±—Ä–∞—Ç—å –º–æ–¥—É–ª—å –≤—Ä—É—á–Ω—É—é:

```bash
cd rust_peg_solver

# 1. –°–æ–±–µ—Ä–∏—Ç–µ Rust –±–∏–±–ª–∏–æ—Ç–µ–∫—É
cargo build --release

# 2. –ù–∞–π–¥–∏—Ç–µ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª
# Linux: target/release/librust_peg_solver.so
# Mac: target/release/librust_peg_solver.dylib
# Windows: target/release/rust_peg_solver.dll

# 3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞
cp target/release/librust_peg_solver.so ../rust_peg_solver.so  # Linux
# –∏–ª–∏
cp target/release/librust_peg_solver.dylib ../rust_peg_solver.dylib  # Mac
# –∏–ª–∏
copy target\release\rust_peg_solver.dll ..\rust_peg_solver.dll  # Windows

# 4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è Python
# (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ PYTHONPATH –∏–ª–∏ –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞)
```

### –†–µ—à–µ–Ω–∏–µ 3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Rust —á–µ—Ä–µ–∑ rustup (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Rust
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ shell –∏–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
source $HOME/.cargo/env

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É
rustc --version
cargo --version
```

### –†–µ—à–µ–Ω–∏–µ 4: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤—ã–π wheel (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)

–ï—Å–ª–∏ –≤ –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º–µ —É–∂–µ –µ—Å—Ç—å —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π maturin wheel:

```bash
# –°–∫–∞—á–∞–π—Ç–µ wheel –≤—Ä—É—á–Ω—É—é –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ
pip install maturin-*.whl
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏–ª–∏ —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ maturin
maturin --version

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Rust –º–æ–¥—É–ª—è –≤ Python
python -c "from core.rust_fast import USING_RUST; print(f'Rust: {USING_RUST}')"
```

## –í–∞–∂–Ω–æ

- **Rust –º–æ–¥—É–ª—å –æ–ø—Ü–∏–æ–Ω–∞–ª–µ–Ω** - –ø—Ä–æ–µ–∫—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –±–µ–∑ –Ω–µ–≥–æ (fallback –Ω–∞ Cython/Python)
- –ï—Å–ª–∏ Rust –º–æ–¥—É–ª—å –Ω–µ —Å–æ–±–µ—Ä—ë—Ç—Å—è, —ç—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `core.fast` (Cython) - –æ–Ω —É–∂–µ –¥–∞—ë—Ç 26x —É—Å–∫–æ—Ä–µ–Ω–∏–µ

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ Cython

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å Rust/maturin, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ Cython:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Cython (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ requirements.txt)
pip install Cython

# –°–∫–æ–º–ø–∏–ª–∏—Ä—É–π—Ç–µ Cython –º–æ–¥—É–ª—å
python setup.py build_ext --inplace

# –ü—Ä–æ–≤–µ—Ä–∫–∞
python -c "from core.fast import USING_CYTHON; print(f'Cython: {USING_CYTHON}')"
```

–≠—Ç–æ –¥–∞—Å—Ç 26x —É—Å–∫–æ—Ä–µ–Ω–∏–µ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å —á–∏—Å—Ç—ã–º Python - –≤–ø–æ–ª–Ω–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –∑–∞–¥–∞—á!
