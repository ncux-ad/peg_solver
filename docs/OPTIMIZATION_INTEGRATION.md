# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Rust/Cython/Numba —É—Å–∫–æ—Ä–µ–Ω–∏–π

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

–í—Å–µ –Ω–æ–≤—ã–µ —Ä–µ—à–∞—Ç–µ–ª–∏ (–§–∞–∑—ã 1-3) —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.

## üì¶ –°–æ–∑–¥–∞–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏

### `core/optimized_bitboard.py`

–û–±—ë—Ä—Ç–∫–∏ –¥–ª—è BitBoard –æ–ø–µ—Ä–∞—Ü–∏–π —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –≤—ã–±–æ—Ä–æ–º —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:

- `optimized_peg_count(board)` - –ø–æ–¥—Å—á—ë—Ç –∫–æ–ª—ã—à–∫–æ–≤
- `optimized_get_moves(board)` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ö–æ–¥–æ–≤
- `optimized_apply_move(board, from, jumped, to)` - –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ö–æ–¥–∞
- `optimized_is_dead(board)` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç—É–ø–∏–∫–∞
- `optimized_has_peg(board, pos)` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –∫–æ–ª—ã—à–∫–∞

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**
1. Rust (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω) - —Å–∞–º–æ–µ –±—ã—Å—Ç—Ä–æ–µ (2-10x –±—ã—Å—Ç—Ä–µ–µ Cython)
2. Cython (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω) - –±—ã—Å—Ç—Ä–æ–µ (26x –±—ã—Å—Ç—Ä–µ–µ Python)
3. Python (fallback) - –º–µ–¥–ª–µ–Ω–Ω–æ–µ, –Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### `solvers/optimized_utils.py` (—É–∂–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª)

–û–±—ë—Ä—Ç–∫–∏ –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π –æ—Ü–µ–Ω–∫–∏ –ø–æ–∑–∏—Ü–∏–π:

- `evaluate_position_optimized(board, num_moves)` - –æ—Ü–µ–Ω–∫–∞ –ø–æ–∑–∏—Ü–∏–∏

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**
1. Rust (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)
2. Numba JIT (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω) - 5-10x –±—ã—Å—Ç—Ä–µ–µ Python
3. Python (fallback)

## üîß –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ—à–∞—Ç–µ–ª–∏

### ‚úÖ SimpleDFSSolver
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `optimized_get_moves`, `optimized_apply_move`, `optimized_peg_count`
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ:** 2-10x –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### ‚úÖ DFSMemoSolver
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ BitBoard –æ–ø–µ—Ä–∞—Ü–∏–∏
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Numba-–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é Pagoda —Ñ—É–Ω–∫—Ü–∏—é (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–∞)
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ:** 2-10x –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π + 1.79x –¥–ª—è Pagoda

### ‚úÖ AStarSimpleSolver
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ BitBoard –æ–ø–µ—Ä–∞—Ü–∏–∏
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ:** 2-10x –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### ‚úÖ BeamSimpleSolver
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ BitBoard –æ–ø–µ—Ä–∞—Ü–∏–∏
- –£–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª `evaluate_position_optimized` –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –ø–æ–∑–∏—Ü–∏–π
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ:** 2-10x –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π + 4.65x –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –ø–æ–∑–∏—Ü–∏–π

### ‚úÖ IDASimpleSolver
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ BitBoard –æ–ø–µ—Ä–∞—Ü–∏–∏
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ:** 2-10x –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### ‚úÖ BidirectionalSimpleSolver
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ BitBoard –æ–ø–µ—Ä–∞—Ü–∏–∏
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ:** 2-10x –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### ‚úÖ PatternAStarSimpleSolver
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ BitBoard –æ–ø–µ—Ä–∞—Ü–∏–∏
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ:** 2-10x –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### ‚úÖ ParallelSimpleSolver
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `optimized_get_moves` –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–µ—Ä–≤—ã—Ö —Ö–æ–¥–æ–≤
- –ö–∞–∂–¥—ã–π –ø–æ—Ç–æ–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SimpleDFSSolver (–∫–æ—Ç–æ—Ä—ã–π —É–∂–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω)
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ:** 2-10x –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

## üìä –û–∂–∏–¥–∞–µ–º–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ

### –î–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (get_moves, apply_move)

| –†–µ–∞–ª–∏–∑–∞—Ü–∏—è | –£—Å–∫–æ—Ä–µ–Ω–∏–µ | –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å |
|------------|-----------|-------------|
| Rust | 2-10x vs Cython | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (—Ç—Ä–µ–±—É–µ—Ç —Å–±–æ—Ä–∫–∏) |
| Cython | 26x vs Python | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–µ—Å–ª–∏ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω) |
| Python | 1x (–±–∞–∑–∞) | –í—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–µ–Ω |

### –î–ª—è —ç–≤—Ä–∏—Å—Ç–∏–∫ (Pagoda, –æ—Ü–µ–Ω–∫–∞ –ø–æ–∑–∏—Ü–∏–π)

| –†–µ–∞–ª–∏–∑–∞—Ü–∏—è | –£—Å–∫–æ—Ä–µ–Ω–∏–µ | –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å |
|------------|-----------|-------------|
| Rust | 2-10x vs Numba | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ |
| Numba JIT | 5-10x vs Python | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω) |
| Python | 1x (–±–∞–∑–∞) | –í—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–µ–Ω |

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π

```python
from core.optimized_bitboard import get_optimization_info
from solvers.optimized_utils import get_optimization_info as get_eval_info

print("BitBoard –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:", get_optimization_info())
print("–û—Ü–µ–Ω–∫–∞ –ø–æ–∑–∏—Ü–∏–π:", get_eval_info())
```

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
```
BitBoard –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏: Cython
–û—Ü–µ–Ω–∫–∞ –ø–æ–∑–∏—Ü–∏–π: Python only (fallback)
```

–∏–ª–∏

```
BitBoard –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏: Rust
–û—Ü–µ–Ω–∫–∞ –ø–æ–∑–∏—Ü–∏–π: Rust + Numba
```

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π

### Cython (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)
```bash
python setup.py build_ext --inplace
```

### Numba (—É–∂–µ –≤ requirements.txt)
```bash
pip install numba
```

### Rust (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```bash
cd rust_peg_solver
./build.sh  # –∏–ª–∏ maturin develop
```

## üìà –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –î–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- –ù–æ–≤—ã–µ —Ä–µ—à–∞—Ç–µ–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ —Ç–æ–ª—å–∫–æ Python –≤–µ—Ä—Å–∏–∏
- –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –Ω–∞ –±–æ–ª—å—à–∏—Ö –¥–æ—Å–∫–∞—Ö
- DFSMemoSolver: ~105 —Å–µ–∫—É–Ω–¥ –¥–ª—è –¥–æ—Å–∫–∏ —Å 29 –∫–æ–ª—ã—à–∫–∞–º–∏

### –ü–æ—Å–ª–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π
- –û–∂–∏–¥–∞–µ–º–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ: 2-10x –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –£–ª—É—á—à–µ–Ω–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∞ –≤—Å–µ—Ö –¥–æ—Å–∫–∞—Ö

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback

–í—Å–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏–º–µ—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –Ω–∞ Python –≤–µ—Ä—Å–∏–∏:

1. –ï—Å–ª–∏ Rust –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Cython
2. –ï—Å–ª–∏ Cython –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Python
3. –ï—Å–ª–∏ Numba –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Python –≤–µ—Ä—Å–∏—è —ç–≤—Ä–∏—Å—Ç–∏–∫

**–†–µ—à–∞—Ç–µ–ª–∏ –≤—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞—é—Ç**, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã.

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∑—Ä–∞—á–Ω—ã –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∏–∑–º–µ–Ω—è—Ç—å –∫–æ–¥ —Ä–µ—à–∞—Ç–µ–ª–µ–π –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π
- –í—Å–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –º–æ–¥—É–ª—è
- –û—à–∏–±–∫–∏ –≤ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤–µ—Ä—Å–∏—è—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—é—Ç –Ω–∞ fallback

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –¥–ª—è –≤—Å–µ—Ö –Ω–æ–≤—ã—Ö —Ä–µ—à–∞—Ç–µ–ª–µ–π
2. ‚è≥ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–æ—Å–∫–∞—Ö
3. ‚è≥ –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –±–µ–Ω—á–º–∞—Ä–∫–æ–≤
4. ‚è≥ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (–µ—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ)
